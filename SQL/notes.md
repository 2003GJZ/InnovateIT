此目录用来保存sql语句等

# sql**注意事项**：

1. 禁止表级锁
2. 禁止使用select *，只查询需要的字段
3. 禁止使用order by，使用索引
4. 使用批量插入：对于大量插入操作，尽量使用批量插入而不是逐行插入，减少数据库连接和事务开销。
5. 使用索引：对于查询操作，尽量使用索引来加速查询速度，避免全表扫描。
6. 合理设计索引：确保查询中涉及的字段有合适的索引，但避免过多的索引，因其会影响写操作的性能。
7. 避免频繁修改索引字段：对频繁更新的字段不要建立索引，更新操作会导致索引的重建，影响性能。
8. 大事务会占用锁时间过长，容易导致主从延迟，尽量将大事务拆分为多个小事务。
9. 避免使用子查询：尽量使用连接（JOIN）操作代替子查询，因为子查询可能会影响查询性能。
10. 如果表非常大，尽量避免跨多个表的JOIN操作，可能会导致慢查询。
11. **从库只读：严格保证从库只执行读操作，避免破坏数据一致性。** 写操作交给 数据库_缓存 模块完成

# **建库建表要求**

## 建库规范

1. 库命名规范：
   库名称要简洁且具有业务含义，使用小写字母和下划线分隔词。例如：
   用户数据库：user_db
   订单数据库：order_db
   财务数据库：finance_db
2. 数据库引擎选择：
   InnoDB：默认使用 InnoDB 引擎
3. 隔离级别配置：
    根据业务需求选择合适的隔离级别，并将建库建表语句**按照隔离级别**分入不同的文件夹下
4. 字符集和排序规则：
    使用 utf8 字符集
    SQL语句示例：
   CREATE DATABASE user_management_db
   CHARACTER SET = 'utf8'
   COLLATE = 'utf8_general_ci';
5. 分库与分表设计：
    对高并发和大数据量场景，建议进行分库分表。根据业务模型，确定如何对数据进行水平分片。常见的分片方式有：
    按用户ID分片：user_id % 分片数
    按时间分片：将数据按年、月拆分到不同表中，如 order_2024_01 表。


## 建表规范
1. 表命名规范：
    使用小写字母和下划线，保持名称简洁且易懂。表名前缀要与业务模块对应，避免命名冲突。例如：
    用户信息表：user_info
    订单记录表：order_record
    日志记录表：log_audit
2. 索引设计：
    主键索引：每个表必须有一个主键，通常是自增的 id 字段，MySQL 默认会为主键创建聚集索引。
    联合索引：为经常一起查询的多个字段创建联合索引，避免单个字段索引无法利用。
    例如：
    CREATE INDEX idx_user_status ON user_info (user_id, status);
    覆盖索引：尽量为常用查询的字段创建覆盖索引，**禁止使用**SELECT *，只查询所需字段。
3. 分区表设计：
    如果表的数据量非常大，可以考虑对表进行分区。分区可以按时间、ID 或其他字段分区。
    例如，按月份分区的订单表：
    CREATE TABLE order_record (
    order_id BIGINT,
    user_id BIGINT,
    order_date DATE,
    status TINYINT
    ) PARTITION BY RANGE (YEAR(order_date)) (
    PARTITION p2024 VALUES LESS THAN (2025),
    PARTITION p2025 VALUES LESS THAN (2026)
    );

4. 外键约束：
    禁止使用外键约束，外键约束都在应用层解决
